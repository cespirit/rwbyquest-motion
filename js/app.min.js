/* Updated 2015-04-18 */
var animations={timer:null,fadeIn:function(a){console.log("fadeIn() function called");var b,c,d,e;return b=$.Deferred(),c=b.then(function(){return console.log("	fadeIn: hide()"),a.stop(0,1).hide()}),d=c.then(function(){return console.log("	fadeIn: fadeIn()"),a.stop(0,1).fadeIn(1e3)}),e=d.then(function(){return console.log("	fadeIn: delay()"),a.stop(0,1).delay(3e3)}),b.resolve(),e}},content={pages:[{pageType:"instructions",instructions:"<h2>COMMAND RUSH</h2><p>For the duration of this encounter you may directly command <span class='keyword'>any</span> party member.</p>",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Everyone</span>: Put as much distance between you and the window. Maybe head for the hall if possible.</p>",animation:animations.fadeIn},{pageType:"image",src:"images/3.png",animation:animations.fadeIn},{pageType:"image",src:"images/4.png",animation:animations.fadeIn},{pageType:"image",src:"images/5.png",animation:animations.fadeIn},{pageType:"image",src:"images/6.png",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Everyone</span>: Back away from the window. Test out the entity's abilities by throwing a pillow at them!</p>",animation:animations.fadeIn},{pageType:"image",src:"images/8.png",animation:animations.fadeIn},{pageType:"image",src:"images/9.png",animation:animations.fadeIn},{pageType:"image",src:"images/10.png",animation:animations.fadeIn},{pageType:"image",src:"images/11.png",animation:animations.fadeIn},{pageType:"image",src:"images/12.png",animation:animations.fadeIn},{pageType:"image",src:"images/13.png",animation:animations.fadeIn},{pageType:"image",src:"images/14.png",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Weiss</span>: Check who that might be real quick! We may assume its Ren, but you can never be too safe.</p>",animation:animations.fadeIn},{pageType:"image",src:"images/16.png",animation:animations.fadeIn},{pageType:"image",src:"images/17.png",animation:animations.fadeIn},{pageType:"image",src:"images/18.png",animation:animations.fadeIn},{pageType:"image",src:"images/19.png",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Everyone</span>: Quick inventory check.</p>",animation:animations.fadeIn},{pageType:"image",src:"images/21.png",animation:animations.fadeIn},{pageType:"instructions",instructions:"<h2>COMMAND RUSH CONTINUES</h2><p>You may still directly command any party member. Please remember to specify who you are directing.</p>",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Pyrrha</span> and <span class='keyword'>Velvet</span>: Pull a sick maneuver where <span class='keyword'>Pyrrha</span> tosses <span class='keyword'>Velvet</span> behind <span class='keyword'>Blitz Blockade</span> so <span class='keyword'>Velvet</span> can use...</p>",animation:animations.fadeIn},{pageType:"command",command:"<p>...<span class='keyword'>Red Death Killer Heels</span> to slice up <span class='keyword'>Blitz Blockade</span>'s leg ligaments.</p>",animation:animations.fadeIn},{pageType:"image",src:"images/24.png",animation:animations.fadeIn},{pageType:"image",src:"images/25.png",animation:animations.fadeIn},{pageType:"image",src:"images/26.png",animation:animations.fadeIn},{pageType:"image",src:"images/27.png",animation:animations.fadeIn},{pageType:"image",src:"images/28.png",animation:animations.fadeIn},{pageType:"image",src:"images/29.png",animation:animations.fadeIn},{pageType:"image",src:"images/30.png",animation:animations.fadeIn},{pageType:"image",src:"images/31.png",animation:animations.fadeIn},{pageType:"image",src:"images/32.png",animation:animations.fadeIn},{pageType:"image",src:"images/33.png",animation:animations.fadeIn},{pageType:"image",src:"images/34.png",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Yang</span> and <span class='keyword'>Cardin</span>: When it's distracted, knock it on its back with <span class='keyword'>Mace</span> and <span class='keyword'>Ember Celica</span> so the...</p>",animation:animations.fadeIn},{pageType:"command",command:"<p>...blood jets are less of a threat and try to pin it down.</p>",animation:animations.fadeIn},{pageType:"image",src:"images/36.png",animation:animations.fadeIn},{pageType:"image",src:"images/37.png",animation:animations.fadeIn},{pageType:"image",src:"images/38.png",animation:animations.fadeIn},{pageType:"image",src:"images/39.png",animation:animations.fadeIn},{pageType:"image",src:"images/40.png",animation:animations.fadeIn},{pageType:"image",src:"images/41.png",animation:animations.fadeIn},{pageType:"image",src:"images/42.png",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Blake</span>: Try to restrain the entity's arms. Maybe with <span class='keyword'>Gambol Shroud</span>.</p>",animation:animations.fadeIn},{pageType:"image",src:"images/44.png",animation:animations.fadeIn},{pageType:"command",command:"<p><span class='keyword'>Yang</span>: Slam that guy into the ground using <span class='keyword'>Ember Celiclaw</span>, making sure his blood spurters are facing the wall.</p>",animation:animations.fadeIn},{pageType:"image",src:"images/46.png",animation:animations.fadeIn},{pageType:"image",src:"images/47.png",animation:animations.fadeIn},{pageType:"image",src:"images/48.png",animation:animations.fadeIn},{pageType:"image",src:"images/49.png",animation:animations.fadeIn},{pageType:"image",src:"images/50.png",animation:animations.fadeIn},{pageType:"image",src:"images/51.png",animation:animations.fadeIn},{pageType:"instructions",instructions:"<p><span class='keyword'>To be continued...</span></p>",animation:animations.fadeIn},{pageType:"credits"}]};$(document).ready(function(){var a,b,c=!0,d=-1,e=$("#page"),f=content.pages.length-1,g=function(a){$.when(a(e)).then(function(){c&&(console.log("runAnimation - autoPlayOn for nextPage()"),i())}).fail(function(){alert("An ERROR occurred. runAnimation() Failed"),e.clearQueue(),e.stop(!0,!0)})},h=function(){if(a=content.pages[d],!a)return void console.log("Error in updatePage() at page number: "+d);if(b=a.pageType)switch(b){case"instructions":console.log("Instructions page, pageNum: "+d),e.html("<div class='instructions pageContent' data-pagenum='"+d+"'>"+a.instructions+"</div>"),g(a.animation);break;case"command":console.log("Command page, pageNum: "+d),e.html("<div class='command pageContent' data-pagenum='"+d+"'>"+a.command+"</div>"),g(a.animation);break;case"image":console.log("Image page, pageNum: "+d),e.html("<div class='pageContent' data-pagenum='"+d+"'><img class='panel-img' alt='' src='"+a.src+"'/></div>"),g(a.animation);break;case"credits":console.log("Credits page, pageNum: "+d),$("#page").html(""),$("#togglePlay").find("i").removeClass("fa-pause"),$("#togglePlay").find("i").addClass("fa-play"),$("#credits").css("display","block");break;default:console.log("Error in updatePage(). Page type is not valid for page: "+d)}},i=function(){console.log("----- NEXT -----"),d++,d>f?--d:h()};$("#btnStart").click(function(){console.log("Clicked START"),$("#titleScreen").css("display","none"),e.css("display","block"),i()})});